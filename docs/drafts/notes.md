# 草案メモ

ここでは、まだ正式なドキュメント化には至っていないが、将来的に整理したい情報をメモとして残します。内容が固まり次第、`guides/` や `references/` へ昇格させてください。

## UI 改修アイデア
- 選択肢一覧に絵文字を自動付与する機能を検討中。`utils.py` に定義された LoL ロール絵文字をマッピングに利用できるか調査する。【src/utils.py†L40-L78】
- モーダル入力時にリアルタイムバリデーションを行うため、`components/modal.py` に非同期検証フックを追加する案を検討。【src/components/modal.py†L40-L110】

## データモデリングの課題
- `TemplateScope` にギルド限定公開と DM 限定公開の中間的なスコープを追加する要望あり。`models/model.py` に影響が出るため要整理。【src/models/model.py†L1-L40】
- 履歴レコード (`AssignmentHistory`) に選択結果のスコアリング指標を持たせるか検討中。Firestore のクエリ設計次第で追加コストが大きくなる可能性があります。【src/models/model.py†L88-L120】

## テスト整備メモ
- `data_process` の重み付き抽選に関するプロパティテストを `tests/` 配下に追加することで回帰防止を図りたい。【src/data_process.py†L17-L90】
- UI コンポーネントのスナップショットテストを導入し、Discord バージョンアップ時の差分検知を容易にする案あり。【src/components/button.py†L1-L200】

## ドキュメント移行予定
- README のセットアップ手順を `docs/guides/` に分離し、環境別の手順を詳述したい。
- Firebase セキュリティルールの仕様を `docs/references/` に整理する必要があるが、現状情報不足のため保留。

---
このメモは随時更新されます。項目を実施した場合は、対応した正式ドキュメントへのリンクを追記して履歴が辿れるようにしてください。
